[Backend]
processing_layer = 'process_collect_solutions'
parallelization_layer = 'filelist_master_worker'
data_extraction_layer = 'hdf5_file_data_extraction'
instrument_layer = 'crystfel_hdf5_file'
required_data = 'raw_data,detector_distance,beam_energy,timestamp,filename_and_event'

[PsanaParallelizationLayer]
detector_name = 'DscCsPad'
detector_dist_epics_pv = 'CXI:DS1:MMS:06.RBV'
psana_calib_dir = '/reg/d/psdm/cxi/cxij9415/calib'
event_rejection_threshold = None

[General]
publish_ip = None
publish_port = None
geometry_file = 'cxil0216-060316.geom'
max_saturated_peaks = 3
min_num_peaks_for_hit = 10
max_num_peaks_for_hit = 5000
saturation_value = 14000
send_non_hits = False
running_average_size = 100
geometry_is_optimized = False
fallback_detector_distance = 200.0
fallback_beam_energy = 9.0
speed_report_interval = 1
hit_sending_interval = 1

[DarkCalCorrection]
filename = 'cxil0216-r0086-detector0-darkcal.h5'
hdf5_group = '/data/data'

[Peakfinder8PeakDetection]
max_num_peaks = 2048
asics_nx = 194
asics_ny = 185
nasics_x = 8
nasics_y = 8
adc_threshold = 150
minimum_snr = 8
min_pixel_count = 2
max_pixel_count = 40
local_bg_radius = 6
mask_filename = 'r0086-badpix.h5'
mask_hdf5_path = '/data/data'
accumulated_shots = 40
min_res = 20
max_res = 400

[RadialAveraging]
accumulated_shots = 20
num_bins = 500
scale = True
min_bin_to_scale = 200
max_bin_to_scale = 420
subtract_profile_filename = None
rg_calc = False
ignore_bins = 20
